---
title: "global"
author: "g9"
date: "3/24/2022"
output: html_document
---

```{r setup, include=FALSE}
library(mice)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
dfinc <- readRDS("~/GitHub/MDTC_g9/Proj_1/incomplete_data_g9.rds")
dfcom <- readRDS("~/GitHub/MDTC_g9/Proj_1/complete_data.rds")
dfisNA <- is.na(dfinc)
summary(dfinc)
```


## Multiple Imputation
```{r}
ini <- mice(dfinc, maxit = 0)
meth <- ini$method
meth["bmi"] <- "~ I(weight / (height / 100)^2)"
```


```{r}
imp1 <- mice(dfinc,
             m = 5,
             maxit = 20,
             method = meth,
             seed = 12345,
             print = FALSE)
dfcomI <- complete(imp1,1)
dfcomI
```
## Scientifically interesting model

```{r}

```

## Evaluation
```{r}
modelFit <- with(imp1, lm(active ~ rest + bmi + sex + smoke + intensity))
summary(pool(modelFit))
```

```{r}
diff <- data.frame(age = integer())

mAge <- dfcomI$age[dfisNA[0] == TRUE]
tAge <- dfcom$age[dfisNA[0] == TRUE]
mSmoke <- dfcomI$smoke[dfisNA[1] == TRUE]
tSmoke <- dfcom$smoke[dfisNA[1] == TRUE]
mSex <- dfcomI$sex[dfisNA[2] == TRUE]
tSex <- dfcom$sex[dfisNA[2] == TRUE]
mIntensity <- dfcomI$intensity[dfisNA[3] == TRUE]
tIntensity <- dfcom$intensity[dfisNA[3] == TRUE]
mActivity <- dfcomI$activity[dfisNA[4] == TRUE]
tActivity <- dfcom$activity[dfisNA[4] == TRUE]
mRest <- dfcomI$rest[dfisNA[5] == TRUE]
tRest <- dfcom$rest[dfisNA[5] == TRUE]
mHeight <- dfcomI$height[dfisNA[6] == TRUE]
tHeight <- dfcom$height[dfisNA[6] == TRUE]
mWeight <- dfcomI$weight[dfisNA[7] == TRUE]
tWeight <- dfcom$weight[dfisNA[7] == TRUE]
mBmi <- dfcomI$bmi[dfisNA[8] == TRUE]
tBmi <- dfcom$bmi[dfisNA[8] == TRUE]
```

```{r}

```

## Including Plots

You can also embed plots, for example:

```{r, echo=FALSE}

```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
